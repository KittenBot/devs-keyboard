import * as ds from "@devicescript/core"

import { SDLDisplay } from "./utils/sdl_display"
import { Image, Palette } from "@devicescript/graphics"

const sprite1 = Image.alloc(100, 100, 4, hex`00000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000002334000000000000011100000000000000000000000000000000000000000000000000000000000000000000000000000003333200000000000051111000000000000000000000000000000000000000000000000000000000000000000000000000000367833000000000001111110000000000000000000000000000000000000000000000000000000000000000000000000000039ab33000000000011111115000000000000000000000000000000000000000000000000000000000500000000000000000033c33d00000000001111111100000000000000000000000000000000000000000000000000000000511e0000000000000000d33330000000000111111111e00000000000000000000000000000000000000000000000000000001111100000000000000000033000000000111111111110000000000000000000000000000000000000000000000000000000111111e00000000000000003300000000111111111111e0000000000000000000000000000000000000000000000000000011111111100000000000000033000000011111111111111000000000000000000000000000000000000000000000000000001111111111e000000000000033000051111111111111111e0000000000000000000000000000000000000000000000000000111111111111e00000000000331111111111111111111111000000000000000000000000000000000000000000000000000011111111111111111e1111113f11111111111111111111115000000000000000000000000000000000000000000000000001111111111111111111111111111111111111111111111111100000000000000000000000000000000000000000000000000111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000000000000011111111111111111111111111111111111111111111111111e00000000000000000000000000000000000000000000000001111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000000000000111111111111111111111111111111111111111011121314151617181111e000000000000000000000000000000000000000000000000111111111111111111111111111111111111191a1b1b1b1b1b1b1b1b1c1d1111000000000000000000000000000000000000000000000005111111111111111111111111111111111111e1b1b1b1b1b1b1b1b1b1b1b1b1f201100000000000000000000000000000000000000000000000e11111111111112122232425152627d111111111111281b1b1b1b1b1b1b1b1b1b1b1b1b1b292a100000000000000000000000000000000000000000000000e111111111112b231b1b1b1b1b1b1b1b2c2d11111111112b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b2e1e0000000000000000000000000000000000000000000000111111111112f1b1b1b1b1b1b1b1b1b1b1b1b1a3011111111311b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b32100000000000000000000000000000000000000000000001111111111331b1b1b1b1b1b1b1b1b1b1b1b1b1b2334111111351b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b2910000000000000000000000000000000000000000000000111111111361b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b26111111161b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b370000000000000000000000000000000000000000000000e111111138131b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b3911111141b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b3ae000000000000000000000000000000000000000000000e11111113b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1211113c1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b3d100000000000000000000000000000000000000000000051111111121b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b3e1113f1b1b1b1b1b1b1b1b1b1b1b14403a40311b1b1b1b4110000000000000000000000000000000000000000000005111111d1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b27111181b1b1b1b1b1b1b1b1b1b1b3a3333b1b1b1b1b4010000000000000000000000000000000000000000000000111111421b1b1b1b1b1b1b1b1b1b1b1b1b4027431b1b1b1b441111241b1b1b1b1b1b1b1b1b453c33320311b1b1b281e000000000000000000000000000000000000000000000111111461b1b1b1b1b1b1b1b1b1b1b1b1e333361b1b1b431111411b1b1b1b1b1b1b1b1b23d33347311b1b1b481e0000000000000000000000000000000000000000000001111113e1b1b1b1b1b1b1b1b1b1b1b1bd3333491b1b4411114a1b1b1b1b1b1b1b1b1b1b323334b1b1b1b311110000000000000000000000000000000000000000000001111114c1b1b1b1b1b1b1b1b1b1b1b1bd3333131b1b36111111f1b1b1b1b1b1b1b1b1b4d3327444e1b1b1b3611100000000000000000000000000000000000000000000011111111a1b1b1b1b1b1b1b1b1b1b1b283334b1b1b1b2011111101b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1611110000000000000000000000000000000000000000000001111111271b1b1b1b1b1b1b1b1b1b1b1b4f3b401b1b1b1a1111111321b1b1b1b1b1b1b1b1b1b1b1b1b1b2350111100000000000000000000000000000000000000000000011111111291b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b2b11111111511b1b1b1b1b1b1b1b1b1b1b1b2e1811111e0000000000000000000000000000000000000000000111111111521b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b40111111111142261b1b1b1b1b1b1b1b241e1111111e00000000000000000000000000000000000000000001111111111281b1b1b1b1b1b1b1b1b1b1b1b1b1b1a1111111111111422d5354291f4055f1111111110000000000000000000000000000000000000000000111111111113b1b1b1b1b1b1b1b1b1b1b1b1b414c1111111111111111111111111111111000000000000000000000000000000000000000000011111111111156531b1b1b1b1b1b1b1b152711111111111111111111111111111111100000000000000000000000000000000000000000011111111111111157585331595a5b521111111111111111111111111111111111100000000000000000000000000000000000000000011111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000011111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000000000e111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000e1111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111111e000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111111e0000000000000000000000000000000011111111111111111111111111111111111111111111111111111111111111111115000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111111111111500000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000011111111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000005111111111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000e111111111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000011111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111111111111500000000000000000000000000000000e111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000e1111111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000005111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000511111111111111111111111111111111111111111111111111111111111111111e0000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000011111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111111111e00000000000000000000000000000000000e111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000511111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000000000e1111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000011111111111111111111111111111111111111111111111111111111111e000000000000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000000511111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000000001111111111111111111111111111111111111111111111111111111e00000000000000000000000000000000000000000000011111111111111111111111111111111111111111111111111111e00000000000000000000000000000000000000000000005111111111111111111111111111111111111111111111111111e0000000000000000000000000000000000000000000000000111111111111111111111111111111111111111111111111100000000000000000000000000000000000000000000000000005111111111111111111111111111111111111111111111e0000000000000000000000000000000000000000000000000000000e11111111111111111111111111111111111111111100000000000000000000000000000000000000000000000000000000000511111111111111111111111111111111111115000000000000000000000000000000000000000000000005c5d00000000000000005111111111111111111111111111111500000000000000000000000000000000000000000000000005c5d5d000000000000000000005e11111111111111111111e000000000000000000000000000000000000000000000000000005d5d5d5c0000000000000000000000000055e111111e5000000000000000000000000000000000000000000000000000000000005d5d5c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005c5d5d0005d5d5d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d5d5d0005c5d5c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d5d00005d5d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d5d5c0005d5d5c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d5d5d0005d5d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005c5d5c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d5d5d000000000000000000000000000000000000000000000000000000000000000000000000000000000000`)
const img = Image.alloc(480, 360, 4)
const d = new SDLDisplay(img)
await d.init()

const palette = new Palette(hex`0 820 1062 861 10a2 800 1945 5d36 32cc 21e8 6e3a 438f 18e4 1082 20 821 4228 9492 c638 e73c ef7d defb b596 736d 18c3 4208 bdf7 ffff ffdf 8c30 73ae ce59 2945 4a69 9cd3 ce79 ef5d ef9d ad75 6b4d 7bcf dedb 2104 528a f7be 83ef bdd7 8430 20e3 d69a 6b6d 8c71 18a2 62ec 630c 4a49 1061 5aeb 7bef 738e 18e3 a514 3166 2924 9cf3 ad55 3186 94b2 8c51 ce99 39e7 2124 41e7 e71c 5aab 632c 841 df1b c658 a534 18a3 6b2c 52aa b5b6 d6ba 62eb 39c7 39a7 8410 d6da c618 94d2 20c2 20c3 `)
img.drawImage(sprite1, 0, 0)
await d.show()